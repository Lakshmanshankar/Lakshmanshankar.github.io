---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "@/components/ui/FormattedDate.astro";
import ArrowIcon from "@/components/ui/ArrowIcon.astro";

interface Props {
    post: CollectionEntry<"blog">;
    year: string;
}

const { post, year } = Astro.props;
---

<a
    href={`/blog/${post.id}`}
    class="post-item block p-4 pt-3 pb-4 my-1 no-underline rounded-lg hover:transition-all hover:dark:bg-neutral-800 relative group border border-stone-400 dark:border-neutral-800"
    data-filter-tags={post.data.tags && post.data.tags.join(",")}
    data-year={year}
>
    <div>
        <div class="flex justify-between">
            <div class="flex md:gap-2 md:items-center">
                <h4 class="my-0 gap-2">{post.data.title}</h4>
                <FormattedDate date={new Date(post.data.date)} class="text-sm mt-1 border px-1 rounded-md border-neutral-700" />
            </div>
            <ArrowIcon class="mt-2 hidden md:block" />
        </div>
        <p class="text-[16px] my-1">
            {post.data.description}
        </p>

        <span class="text-sm flex items-center">
            {
                post.data.tags && post.data.tags.length > 0 && (
                    <div class="flex gap-1.5 items-center">
                        <div class="flex flex-wrap gap-2 mt-2">
                            {post.data.tags.map((tag: string) => (
                                <span class="dark:bg-neutral-800 bg-stone-200 dark:text-neutral-200 text-stone-950 text-xs font-medium px-2 py-1 rounded-md">
                                    {tag}
                                </span>
                            ))}
                        </div>
                    </div>
                )
            }
        </span>
    </div>
</a>
